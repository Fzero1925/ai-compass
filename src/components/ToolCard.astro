---
import type { ToolData } from '../data/tools';

export interface Props extends ToolData {}

const { 
  title, 
  description, 
  rating, 
  rating_count, 
  category, 
  hot, 
  tags, 
  pricing, 
  url 
} = Astro.props;

const categoryNames = {
  'image-tools': '图像工具',
  'text-tools': '文本工具', 
  'productivity': '效率工具',
  'video-tools': '视频工具'
};

const pricingLabels = {
  'free': '免费',
  'freemium': '免费增值',
  'paid': '付费'
};

const pricingColors = {
  'free': 'bg-green-100 text-green-800',
  'freemium': 'bg-blue-100 text-blue-800', 
  'paid': 'bg-orange-100 text-orange-800'
};
---

<div class="tool-card group">
  <!-- Header -->
  <div class="flex items-start justify-between mb-4">
    <div class="flex-1">
      <div class="flex items-center space-x-2 mb-2">
        <h3 class="font-semibold text-lg text-gray-900 group-hover:text-primary-600 transition-colors">
          {title}
        </h3>
        {hot && (
          <span class="bg-red-100 text-red-800 text-xs font-medium px-2 py-1 rounded-full">
            🔥 热门
          </span>
        )}
      </div>
      
      <div class="flex items-center space-x-4 text-sm text-gray-500 mb-2">
        <span class="bg-gray-100 text-gray-700 px-2 py-1 rounded">
          {categoryNames[category as keyof typeof categoryNames]}
        </span>
        <span class={`px-2 py-1 rounded text-xs font-medium ${pricingColors[pricing]}`}>
          {pricingLabels[pricing]}
        </span>
      </div>
    </div>
    
    <!-- Rating -->
    <div class="text-right">
      <div class="flex items-center space-x-1 mb-1">
        <span class="text-yellow-400">★</span>
        <span class="font-medium text-gray-900">{rating}</span>
      </div>
      <div class="text-xs text-gray-500">{rating_count} 评价</div>
    </div>
  </div>
  
  <!-- Description -->
  <p class="text-gray-600 mb-4 line-clamp-2">
    {description}
  </p>
  
  <!-- Tags -->
  <div class="flex flex-wrap gap-2 mb-4">
    {tags.slice(0, 3).map(tag => (
      <span class="bg-gray-50 text-gray-600 text-xs px-2 py-1 rounded">
        {tag}
      </span>
    ))}
  </div>
  
  <!-- Actions -->
  <div class="flex items-center justify-between pt-4 border-t border-gray-100">
    <a 
      href={`/tools/${category}/${title.toLowerCase().replace(/\s+/g, '-')}`}
      class="text-primary-600 hover:text-primary-700 font-medium text-sm transition-colors"
    >
      查看详情
    </a>
    
    <a 
      href={url}
      target="_blank"
      rel="noopener noreferrer"
      class="btn-primary text-sm py-2 px-4"
    >
      立即使用
    </a>
  </div>
</div>