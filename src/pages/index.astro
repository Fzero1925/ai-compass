---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import CategoryCard from '../components/CategoryCard.astro';
import ToolCard from '../components/ToolCard.astro';
import SearchModal from '../components/SearchModal.astro';
import StructuredData from '../components/StructuredData.astro';
import { categories, featuredTools } from '../data/tools';

const pageTitle = "AI Compass - 发现最优质的AI工具";
const pageDescription = "专业的AI工具目录与点评平台，涵盖图像编辑、文本处理、效率办公等多个领域的优质AI工具推荐和深度评测。";
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <!-- Search data for homepage -->
  <div data-pagefind-body data-pagefind-meta="title:AI工具目录首页" data-pagefind-meta="type:首页" style="display: none;">
    AI Compass AI工具目录 人工智能工具推荐 图像工具 文本工具 效率工具 视频工具 
    专业点评 对比分析 工具评测 {categories.map(c => c.name).join(' ')} {featuredTools.map(t => t.title).join(' ')}
  </div>
  <Header />
  
  <main>
    <!-- Hero Section -->
    <section class="bg-gradient-to-br from-primary-50 via-white to-secondary-50 py-20">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 text-center">
        <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6">
          发现最优质的
          <span class="bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent">
            AI 工具
          </span>
        </h1>
        <p class="text-xl text-gray-600 mb-8 max-w-3xl mx-auto">
          专业点评与对比分析，帮你找到最适合的AI工具。涵盖图像编辑、文本处理、效率办公等多个领域。
        </p>
        
        <!-- Search Bar -->
        <div class="max-w-2xl mx-auto mb-8">
          <div class="relative">
            <button 
              onclick="openSearch()"
              class="w-full pl-12 pr-4 py-4 text-lg border border-gray-300 rounded-xl hover:border-primary-300 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all text-left text-gray-500 hover:text-gray-700"
            >
              搜索 AI 工具...
              <span class="float-right text-sm text-gray-400 mt-1">Ctrl+K</span>
            </button>
            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
              <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
            </div>
          </div>
        </div>
        
        <!-- Stats -->
        <div class="flex justify-center space-x-8 text-sm text-gray-600">
          <div class="text-center">
            <div class="font-semibold text-2xl text-gray-900">50+</div>
            <div>优质工具</div>
          </div>
          <div class="text-center">
            <div class="font-semibold text-2xl text-gray-900">1000+</div>
            <div>用户评价</div>
          </div>
          <div class="text-center">
            <div class="font-semibold text-2xl text-gray-900">10+</div>
            <div>工具分类</div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Categories Section -->
    <section class="py-20">
      <div class="max-w-6xl mx-auto px-4 sm:px-6">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">工具分类</h2>
          <p class="text-gray-600 max-w-2xl mx-auto">
            按功能分类浏览AI工具，快速找到你需要的解决方案
          </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          {categories.map(category => (
            <CategoryCard {...category} />
          ))}
        </div>
      </div>
    </section>
    
    <!-- Featured Tools Section -->
    <section class="py-20 bg-gray-50">
      <div class="max-w-6xl mx-auto px-4 sm:px-6">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">热门推荐</h2>
          <p class="text-gray-600 max-w-2xl mx-auto">
            精选最受欢迎和最具价值的AI工具，经过专业评测验证
          </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {featuredTools.map(tool => (
            <ToolCard {...tool} />
          ))}
        </div>
        
        <div class="text-center mt-12">
          <a href="/tools" class="btn-primary text-lg px-8 py-3">
            查看全部工具
          </a>
        </div>
      </div>
    </section>
    
    <!-- Newsletter Section -->
    <section class="py-20 bg-primary-600">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 text-center">
        <h2 class="text-3xl font-bold text-white mb-4">
          获取最新AI工具资讯
        </h2>
        <p class="text-primary-100 mb-8 text-lg">
          订阅我们的通讯，第一时间了解新工具发布和深度评测
        </p>
        
        <div class="max-w-md mx-auto flex">
          <input 
            type="email" 
            placeholder="输入你的邮箱地址"
            class="flex-1 px-4 py-3 border border-transparent rounded-l-lg focus:ring-2 focus:ring-white focus:border-transparent"
          />
          <button class="bg-secondary-500 hover:bg-secondary-600 text-white px-6 py-3 rounded-r-lg font-medium transition-colors">
            订阅
          </button>
        </div>
        
        <p class="text-primary-200 text-sm mt-4">
          我们承诺不会向第三方分享您的邮箱地址
        </p>
      </div>
    </section>
  </main>
  
  <Footer />
  <SearchModal />
  
  <!-- Structured Data -->
  <StructuredData 
    type="website" 
    data={{
      name: "AI Compass",
      url: "https://fzero1925.github.io/ai-compass",
      description: pageDescription
    }} 
  />
  <StructuredData 
    type="organization" 
    data={{
      name: "AI Compass",
      url: "https://fzero1925.github.io/ai-compass",
      description: "专业的AI工具目录与点评平台"
    }} 
  />
</BaseLayout>

<script>
  // Initialize search functionality
  document.addEventListener('DOMContentLoaded', () => {
    const openSearchBtn = document.getElementById('open-search');
    openSearchBtn?.addEventListener('click', () => {
      if (window.openSearch) {
        window.openSearch();
      }
    });
  });
</script>
